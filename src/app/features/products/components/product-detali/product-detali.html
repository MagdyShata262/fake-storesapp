<div class="container py-5 mt-4">

  @if (productState$ | async; as state) {

  @if (state.loading) {
  <div class="text-center py-5">
    <div class="spinner-border text-primary"></div>
    <p class="mt-3">جارٍ تحميل تفاصيل المنتج...</p>
  </div>
  }

  @else if (state.error) {
  <div class="alert alert-danger text-center">
    ❌ تعذر تحميل المنتج، حاول مرة أخرى لاحقًا
  </div>
  }

  @else if (state.product) {
  <div class="row g-5 align-items-center">

    <div class="col-md-6 text-center">
      <img ngOptimizedImage [src]="state.product.image" [alt]="state.product.title" class="img-fluid rounded shadow-sm"
        width="420" height="420" />
    </div>

    <div class="col-md-6">
      <h2 class="fw-bold mb-3">{{ state.product.title }}</h2>
      <p class="text-muted mb-4">{{ state.product.description }}</p>
      <h4 class="text-success mb-4">
        {{ state.product.price | currency:'USD' }}
      </h4>
    </div>
  </div>
  }

  }
</div>
<!-- src/app/core/header/header.html -->
<nav class="navbar fixed-top navbar-expand-lg" [class.bg-dark]="theme.isDark()" [class.bg-light]="!theme.isDark()"
  aria-label="Main navigation">
  <div class="container-fluid">
    <!-- Brand -->
    <a class="navbar-brand" routerLink="/">
      Fake Stores
    </a>

    <!-- Toggler -->
    <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar"
      aria-controls="offcanvasNavbar" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Offcanvas -->
    <div id="offcanvasNavbar" class="offcanvas" [class.offcanvas-end]="!theme.rtl()"
      [class.offcanvas-start]="theme.rtl()" tabindex="-1" aria-labelledby="offcanvasNavbarLabel"
      [class.text-bg-dark]="theme.isDark()" [class.text-bg-light]="!theme.isDark()">
      <!-- Header -->
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offcanvasNavbarLabel">
          {{ theme.rtl() ? 'Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©' : 'Menu' }}
        </h5>
        <button type="button" class="btn-close" [class.btn-close-white]="theme.isDark()" data-bs-dismiss="offcanvas"
          aria-label="Close"></button>
      </div>

      <!-- Body -->
      <div class="offcanvas-body">
        <ul class="navbar-nav flex-grow-1" [class.pe-3]="!theme.rtl()" [class.ps-3]="theme.rtl()">
          <li class="nav-item">
            <a class="nav-link" routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
              {{ theme.rtl() ? 'Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©' : 'Home' }}
            </a>
          </li>

          <li class="nav-item">
            <a class="nav-link" routerLink="/products" routerLinkActive="active">
              {{ theme.rtl() ? 'Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª' : 'Products' }}
            </a>
          </li>

          <!-- âœ… Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚ ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© -->
          <li class="nav-item">
            <a class="nav-link position-relative" routerLink="/carts" routerLinkActive="active">
              <i class="bi bi-cart"></i>
              {{ theme.rtl() ? 'Ø³Ù„ØªÙŠ' : 'Cart' }}
              @if (totalItems() > 0) {
              <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                {{ totalItems() }}
              </span>
              }
            </a>
          </li>
        </ul>

        <!-- Actions -->
        <div class="d-flex flex-column gap-2 mt-3">
          <!-- Theme toggle -->
          <button class="btn btn-sm" [class.btn-light]="theme.isDark()" [class.btn-dark]="!theme.isDark()"
            (click)="toggleTheme()" [attr.aria-pressed]="theme.isDark()">
            {{ theme.isDark() ? 'ðŸŒž Light' : 'ðŸŒ™ Dark' }}
          </button>
        </div>
      </div>
    </div>

    <!-- âœ… Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚ ÙÙŠ Ø§Ù„Ù€ navbar Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ (Ø¨Ø¬Ø§Ù†Ø¨-toggler) -->
    <a routerLink="/cart" class="nav-link position-relative d-lg-none d-flex align-items-center"
      style="margin-inline-start: auto; color: var(--navbar-text) !important;">
      <i class="bi bi-cart fs-4"></i>
      @if (totalItems() > 0) {
      <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"
        style="font-size: 0.65rem; padding: 0.2em 0.4em;">
        {{ totalItems() }}
      </span>
      }
    </a>
  </div>

  <!-- âœ… Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚ ÙÙŠ Ø§Ù„Ù€ navbar (Ù„Ù„Ø¬ÙˆØ§Ù„ ÙˆØ§Ù„Ø¯ÙŠØ³ÙƒØªÙˆØ¨) -->
  <a routerLink="/cart" class="nav-link position-relative d-none d-lg-flex align-items-center"
    style="color: var(--navbar-text) !important;">
    <i class="bi bi-cart fs-5"></i>
    @if (totalItems() > 0) {
    <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"
      style="font-size: 0.7rem;">
      {{ totalItems() }}
    </span>
    }
  </a>
</nav>